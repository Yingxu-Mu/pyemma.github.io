<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>[Lintcode] Triangle Count</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@pyemma" /><meta name="twitter:title" content="[Lintcode] Triangle Count" /><meta name="twitter:description" content=" Given an array of integers, how many three numbers can be found in the array, so that we can build an triangle whose three edges length is the three numbers that we find?"><meta name="description" content=" Given an array of integers, how many three numbers can be found in the array, so that we can build an triangle whose three edges length is the three number..."><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/notes/lintcode-triangle-count"><link rel="alternate" type="application/atom+xml" title="Move Fast and Be Bold" href="/feed.xml" /> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><aside class="logo"> <a href="/"> <img src="http://www.gravatar.com/avatar/483a9a64afff77f3c3d40c89212ec7bc.png?s=80" class="gravatar"> </a> <span class="logo-prompt">Back to Home</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>[Lintcode] Triangle Count</h1><time>November 1, 2015</time></div><div class="divider"></div><blockquote><p>Given an array of integers, how many three numbers can be found in the array, so that we can build an triangle whose three edges length is the three numbers that we find?</p></blockquote><p>The most naive solution is to enumerate all triples and then check if they can construct a triangle or not. The time complexity would be <script type="math/tex">O(n)</script>. A better solution is to first sort the elements in the array, then enumerate the two shorter edge and use binary search to locate the position of the longest edge. The time complexity would be <script type="math/tex">O(nlogn) + O(n^2logn) = O(n^2logn)</script>.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">public</span> <span class="n">int</span> <span class="n">triangleCount</span><span class="p">(</span><span class="n">int</span> <span class="n">S</span><span class="o">[]</span><span class="p">)</span> <span class="p">{</span>
    <span class="sr">//</span> <span class="n">write</span> <span class="n">your</span> <span class="n">code</span> <span class="n">here</span>
    <span class="n">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">length</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="no">Arrays</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">S</span><span class="p">);</span>
    
    <span class="n">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">int</span> <span class="n">index</span> <span class="o">=</span> <span class="no">Arrays</span><span class="o">.</span><span class="n">binarySearch</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">S</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="n">S</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="p">);</span>
            <span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">?</span> <span class="o">-</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:</span> <span class="n">index</span><span class="p">;</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="p">(</span><span class="n">index</span> <span class="o">-</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure><p>Related problem: <a href="https://www.hackerrank.com/contests/codestorm/challenges/ilia">Hackerrank Counting Triangles</a></p></article><div class="back"> <a href="/">Back</a></div></main></body></html>